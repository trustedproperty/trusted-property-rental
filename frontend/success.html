<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    
<title>场地派 - 场地日租平台</title><!-- 作者：李浩铭   -->
    <link rel="shortcut icon" type="image/x-icon" href="images\www.favicon.ico" media="screen" />
    <!--    -->
    <!--    -->
    <!--    -->
    <!-- css:Bootstrap -->
    <link href="libs/bootstrap-3.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- css:bootstrap-datetimepicker -->
    <link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <!-- css:自定义 -->
    <link rel="stylesheet" media="all" href="css/global.css" />
    <!--    -->
    <!--    -->
    <!--    -->
</head>

<body ng-app="appSuccess" ng-controller="successController as controllor">
    <!--    -->
    <!--    -->
    <!--    -->
    <div class="header"></div>
    <!--    -->
    <!--    -->
    <!--    -->
    <div class="container-fluid">
        <div class="row-fluid">
            <!-- 清除浮动 -->
            <div class="clearfix" style="margin-bottom: 5px;">
            </div>
            <div class="col-sm-12">
                <div class="content-title">
                    <h2 ng-bind="successTitle">成功信息！</h2>
                </div>
            </div>
            <!-- 清除浮动 -->
            <div class="clearfix" style="margin-bottom: 20px;">
            </div>
        </div>
        <div class="row-fluid">
            <div class="col-sm-12">
                <form class="form-horizontal" accept-charset="UTF-8" id="idRequireForm">
                    <fieldset>
                        <!--    -->
                        <!--    -->
                        <!--    -->
                        <div class="form-group">
                            <div class="col-sm-4">
                                <label class="form-control-label">
                                </label>
                            </div>
                            <div class="col-sm-4">
                                <div class="col-sm-12" ng-bind="successInfo" style="font-size:16px;"></div>
                            </div>
                        </div>
                        <!--    -->
                        <!--    -->
                        <!--    -->
                        <div class="form-group" ng-if="successLink!=''">
                            <div class="col-sm-4">
                                <label class="form-control-label">
                                </label>
                            </div>
                            <div class="col-sm-4">
                                <span class="col-sm-12" style="font-size:16px;">您可以点击 <a ng-href="{{successPage}}" ng-bind="successLink" style="margin-left:0px;"></a></span>
                            </div>
                        </div>
                        <!--    -->
                        <!--    -->
                        <!--    -->
                        <div class="form-group">
                            <div class="col-sm-5"></div>
                            <a class="btn btn-primary" href="/index.html">返回首页</a>
                            <a ng-href="{{continuePage}}" ng-bind="continueTitle+'>>'" style="font-size:16px;margin-left:20px;" ng-if="continueTitle!=''">继续</a>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
    <!--    -->
    <!--    -->
    <!--    -->
    <div class="content" id="homepage-hot-area" style="height:800px;">
        <div class="content-title">
            <h2>场地推荐</h2>
        </div>
        <div class="row-fluid">
            <div class="col-sm-12">
                <div class="row-fluid">
                    <div ng-repeat="hotspace in hotspaces.slice(0,6) track by $index">
                        <div class="clearfix" ng-if="$index % 3 == 0"></div>
                        <div class="col-sm-4">
                            <div class="row-fluid">
                                <div class="col-sm-12">
                                    <div class="card">
                                        <a class="card-img-top-container" ng-href="space-detail.html?spaceId={{hotspace.spaceId}}">
                                            <!--    -->
                                            <!--    -->
                                            <!--    -->
                                            <img class="card-img-top" ng-src="/upload/changdipai/images/album/{{hotspace.spacePhoto}}" />
                                            <!--    -->
                                            <!--    -->
                                            <!--    -->
                                            <!--收藏场地-->
                                            <form id="{{'formFavoriteAdd'+hotspace.spaceId}}">
                                                <input type="text" name="userId" ng-value="thisUserId" hidden/>
                                                <input type="text" name="spaceId" ng-value="hotspace.spaceId" hidden />
                                                <a class="card-img-caption" href="javascript:void(0);" onclick="addFavorite(this.parentNode.id);">
                                                    <img src="images/icon-svg/favorite.svg" />
                                                    <span ng-bind="hotspace.hotSpace">233</span>
                                                </a>
                                            </form>
                                            <script type="text/javascript">
                                            function addFavorite(IdForm) {
                                                IdForm = "#" + IdForm;
                                                ajaxFormJson('/dreamSpace/favoriteInfo/addFavorite.html', 'get', IdForm, '');
                                            }
                                            </script>
                                        </a>
                                        <div class="card-block card-block-features">
                                            <p>
                                                <a class="SpaceLink ellipsis" ng-href="space-detail.html?spaceId={{hotspace.spaceId}}">
                                                    <span ng-bind="hotspace.spaceName">场地昵称</span>
                                                    <span>，</span>
                                                    <span ng-bind="hotspace.spaceAddress">场地地址（不可点击）</span>
                                                </a>
                                            </p>
                                            <p>
                                                <span class="ellipsis" ng-bind="hotspace.spaceDetailAddress">场地地址（不可点击）</span>
                                            </p>
                                            <p>
                                                <span ng-show="hotspace.spaceNum=='30'">30人以下</span>
                                                <span ng-show="hotspace.spaceNum=='31-50'">31-50人</span>
                                                <span ng-show="hotspace.spaceNum=='51-100'">51-100人</span>
                                                <span ng-show="hotspace.spaceNum=='101-200'">101-200人</span>
                                                <span ng-show="hotspace.spaceNum=='201-300'">201-300人</span>
                                                <span ng-show="hotspace.spaceNum=='301-500'">301-500人</span>
                                                <span ng-show="hotspace.spaceNum=='500'">500人以上</span>
                                            </p>
                                            <p ng-repeat="spacetype in spacetypes">
                                                <span ng-show="hotspace.spaceTypeId==spacetype.spaceTypeId" ng-bind="spacetype.spaceTypeName">最适合活动类型</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--    -->
    <!--    -->
    <!---->
    <div ng-include="'includes/footer.html'"></div>
    <!--    -->
    <!--    -->
    <!--    -->
    <!-- js:jQuery -->
    <script src="libs/jquery/jquery-2.2.4.min.js"></script>
    <!-- JS：AngularJS -->
    <script src="js/angular.min.1.3.9.js"></script>
    <!-- js：AngularJSCookies -->
    <script src="js/angular-cookies.1.0.8.js"></script>
    <!-- js:Bootstrap -->
    <script src="libs/bootstrap-3.3.6/dist/js/bootstrap.min.js"></script>
    <!-- js:bootstrap-datetimepicker -->
    <script src="js/bootstrap-datetimepicker.min.js"></script>
    <!-- js:bootstrap-datetimepicker.zh-CN -->
    <script src="js/bootstrap-datetimepicker.zh-CN.js"></script>
    <!-- js:自定义 -->
    <script src="js/global.js"></script>
    <script>
    var modSuccess_Html = angular.module("appSuccess", []);

    modSuccess_Html.controller("successController", function successController($scope, $http) {
        //页面设置
        var type = getPar("type");
        if (type == "require") {
            $scope.successTitle = "需求发布成功！";
            $scope.successInfo = "我们会在30分钟内联系您！请您稍候。";
            $scope.successLink = "查看需求";
            $scope.successPage = "/required.html";
            $scope.continueTitle = "继续发布";
            $scope.continuePage = "/require.html";
        } else if (type == "space") {
            $scope.successTitle = "场地发布成功！";
            $scope.successInfo = "我们会在30分钟内联系您！请您稍候。";
            $scope.successLink = "";
            $scope.successPage = "";
            $scope.continueTitle = "继续发布";
            $scope.continuePage = "/spaces-publish.html";
        } else if (type == "register") {
            $scope.successTitle = "用户注册成功！";
            $scope.successInfo = "您可以自由浏览场地、发布需求、发布场地。";
            $scope.successLink = "查看账户";
            $scope.successPage = "/account.html";
            $scope.continueTitle = "";
            $scope.continuePage = "";
        } else if (type == "user") {
            $scope.successTitle = "信息修改成功！";
            $scope.successInfo = "您可以自由浏览场地、发布需求、发布场地。";
            $scope.successLink = "查看信息";
            $scope.successPage = "/account.html";
            $scope.continueTitle = "重新修改";
            $scope.continuePage = "/user-setting.html";
        } else if (type == "password") {
            $scope.successTitle = "密码更新成功！";
            $scope.successInfo = "您可以继续浏览场地、发布需求、发布场地。";
            $scope.successLink = "查看信息";
            $scope.successPage = "/account.html";
            $scope.continueTitle = "重新修改";
            $scope.continuePage = "/reset-password.html";
        } else {
            $scope.successTitle = "发布成功！";
            $scope.successInfo = "";
            $scope.successLink = "";
            $scope.successPage = "";
            $scope.continueTitle = "";
            $scope.continuePage = "";
        }
        //location.reload();
        //热门场地推荐        
        var url = "dreamSpace/space/hotSpace.html";
        //alert(url);
        $http.get(url).success(function(response) {
            $scope.hotspaces = response.hotSpaceInfo;
            //alert(response);
        });
        $scope.thisUserId = getCookie("userId");
        //场地类型，展示必需
        var url = "dreamSpace/spaceTypeInfo/spaceTypeInfo.html";
        //alert(url);
        $http.get(url).success(function(response) {
            $scope.spacetypes = response.spaceTypeInfos;
            //alert(response[0].spaceTypeId);
        });
    });
    </script>
</body>

</html>
